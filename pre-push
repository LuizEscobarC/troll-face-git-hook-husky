#!/usr/bin/env sh

# Rodar o PHPStan e verificar erros
echo "\033[1mRodando PHPStan...
     (сђђ-_№йЦ) №И╗сЃЄРЋљСИђ РќИ Estou verificando suas tipagens\033[0m\n\n"
clear
./vendor/bin/phpstan
if [ $? -ne 0 ]; then
    echo "\033[1mPHPStan encontrou erros. Corrija-os antes de fazer o commit. ­ЪўЅ\033[0m"
    exit 1
fi

# Rodar os testes usando Sail e verificar erros
echo "\033[1mRodando testes com Sail...
РќЉРќЉРќЉРќЉРќёРќёРќёРќёРќђРќђРќђРќђРќђРќђРќђРќђРќёРќёРќёРќёРќёРќё
РќЉРќЉРќЉРќЉРќѕРќЉРќЉРќЉРќЉРќњРќњРќњРќњРќњРќњРќњРќњРќњРќњРќњРќњРќЉРќЉРќђРќђРќё
РќЉРќЉРќЉРќѕРќЉРќЉРќЉРќњРќњРќњРќњРќњРќњРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќњРќњРќњРќЉРќЉРќѕ
РќЉРќЉРќѕРќЉРќЉРќЉРќЉРќЉРќЉРќёРќѕРќѕРќђРќёРќёРќЉРќЉРќЉРќЉРќЉРќёРќёРќёРќЉРќЉРќЉРќѕ
РќЉРќђРќњРќёРќёРќёРќњРќЉРќѕРќђРќђРќђРќђРќёРќёРќѕРќЉРќЉРќЉРќѕРќѕРќёРќёРќѕРќЉРќЉРќЉРќѕ
РќѕРќњРќѕРќњРќёРќЉРќђРќёРќёРќёРќђРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќѕРќЉРќЉРќЉРќњРќњРќњРќњРќњРќѕ
РќѕРќњРќѕРќЉРќѕРќђРќёРќёРќЉРќЉРќЉРќЉРќЉРќѕРќђРќЉРќЉРќЉРќЉРќђРќёРќЉРќЉРќёРќђРќђРќђРќёРќњРќѕ
РќЉРќѕРќђРќёРќЉРќѕРќёРќЉРќѕРќђРќёРќёРќЉРќђРќЉРќђРќђРќЉРќёРќёРќђРќЉРќЉРќЉРќЉРќѕРќЉРќЉРќѕ
РќЉРќЉРќѕРќЉРќЉРќђРќёРќђРќѕРќёРќёРќЉРќѕРќђРќђРќђРќёРќёРќёРќёРќђРќђРќѕРќђРќѕРќѕРќЉРќѕ
РќЉРќЉРќЉРќѕРќЉРќЉРќѕРќѕРќЉРќЉРќђРќѕРќёРќёРќёРќѕРќёРќёРќѕРќёРќѕРќѕРќѕРќѕРќЉРќѕ
РќЉРќЉРќЉРќЉРќѕРќЉРќЉРќЉРќђРќђРќёРќЉРќѕРќЉРќЉРќЉРќѕРќЉРќѕРќѕРќѕРќѕРќѕРќѕРќѕРќЉРќѕ
РќЉРќЉРќЉРќЉРќЉРќђРќёРќЉРќЉРќЉРќђРќђРќёРќёРќёРќѕРќёРќѕРќёРќѕРќёРќѕРќёРќђРќЉРќЉРќѕ
РќЉРќЉРќЉРќЉРќЉРќЉРќЉРќђРќёРќёРќЉРќњРќњРќњРќњРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќѕ
РќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќђРќђРќёРќёРќЉРќњРќњРќњРќњРќњРќњРќњРќњРќњРќњРќЉРќѕ
РќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќЉРќђРќёРќёРќёРќёРќёРќЉРќЉРќЉРќЉРќЉРќѕ"

echo "\033[1mSer├А que vai dar erro?\033[0m";

sleep 5
clear

./vendor/bin/sail artisan test --parallel
if [ $? -ne 0 ]; then
    echo "\033[1mAlguns testes falharam. Corrija os erros antes de fazer o commit. ­Ъўъ\033[0m"
    exit 1
fi


echo "\033[1mTudo certo para o push. ­Ъџђ
РађРађРађРађРађРБаРБХРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБХРБдРАёРађРађРађРађРађРађ
РађРађРађРб┤РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБєРађРађРађРађРађ
РађРБаРБ┤РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐Ра┐Ра┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБДРађРађРађРађ
РааРБ┐РБ┐РБ┐РБ┐РБ┐Ра┐РаЏРаЅРађРађРађРађРаѕРаЎРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАєРађРађРађ
РађРб╗РБ┐РаІРађРађРађРађРађРађРађРађРађРађРађРб┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБДРађРађРађ
РађРбаРАЪРАаРаћРАдРаўРБФРБцРБёРађРађРађРађРађРађРа╣РБ┐РБ┐РБ┐РБ┐РбЪРаГРбйРАђРађРађ
РађРаѕРбЄРБ┤РА┐РбДРАїРаЎРаЏРа╗Ра┐Ра┐РбиРБдРаёРађРађРбИРБ┐РА┐РаІРбѓРађРбђРаЄРађРађ
РађРбаРБЙРА┐РаАРбёРАёРбаРађРА┤РаХРаХРа▓РаиРађРађРађРаѕРаЎРаЂРађРАєРаѕРбИРАЄРађРађ
РађРађРбЈРБ┤РаъРбЏРБиРађРађРаЉРањРаЅРађРађРађРађРађРађРађРађРађРађРаћРаЅРАЄРађРађ
РађРађРађРаЪРаѕРаюРАЄРађРађРАђРАаРбёРађРађРађРађРађРађРађРађРађРбђРбаРАїРађРађРађ
РађРађРбИРађРАѕРб░РАђРбђРацРацРаєРађРаЉРбёРађРбаРађРађРађРађРађРађРбИРаЃРађРађРађ
РађРађРаўРАђРаЉРаѕРбЂРАаРбцРБђРБХРБХРбдРБёРБцРаўРАёРађРађРађРађРбўРБ┐РађРађРађРађ
РађРађРађРаљРАюРбёРБ┐РБъРБЅРБАРБиРБ┐РБЙРАЪРбЏРаИРађРађРађРађРађРбѕРАЄРађРађРађРађ
РађРађРађРађРаѕРбѓРб╗РбЮРа┐РаЇРбЊРАЅРаћРаЂРБИРаЄРађРађРађРађРађРАюРаЄРађРађРађРађ
РађРађРађРађРађРађРаАРБДРађРађРађРађРађРаћРаЮРађРађРађРађРбђРаіРађРа░РАђРађРађРађ
РађРађРађРађРађРађРађРАЄРађРађРађРађРађРА░РађРађРађРађРађРађРађРађРађРб│РаёРађРађ
РађРађРађРађРађРађРађРаѕРБбРбёРааРаћРаіРађРађРађРађРађРађРађРађРађРађРаѕРАїРабРАђ
РађРађРађРађРађРађРађРАљРађРбєРаѕРађРађРађРађРађРађРађРађРађРађРађРађРађРаљРађРађ
\033[0m"
exit 0
